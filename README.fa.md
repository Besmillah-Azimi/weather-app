<div dir="rtl">

# اپلیکیشن آب‌وهوا

یک اپلیکیشن ساده و سبک برای نمایش وضعیت آب‌وهوا، ساخته‌شده با React و Vite. این اپلیکیشن وضعیت فعلی، پیش‌بینی ساعتی و پیش‌بینی 7 روز آینده را نمایش می‌دهد و رابط کاربری چندزبانه دارد.

این README نحوه اجرا، پیکربندی و مشارکت در پروژه را توضیح می‌دهد. همچنین نحوه تنظیم کلید API و موارد قابل سفارشی‌سازی را روشن می‌کند.

**ویژگی‌ها**

- **داده‌های زنده:** با OpenWeatherMap برای دریافت وضعیت و پیش‌بینی آب‌وهوا ارتباط برقرار می‌کند.
- **موقعیت مکانی و جستجو:** از Geolocation مرورگر یا جستجوی شهرها به کمک API ژئوکدینگ استفاده می‌کند.
- **چندزبانه:** فایل‌های ترجمه در `src/locales/` قرار دارند و با `i18next` به‌صورت پویا بارگذاری می‌شوند.
- **واسط واکنش‌گرا:** طراحی شده با Tailwind CSS و الگوهای مدرن React (contexts و hooks).
- **سبک و سریع:** توسعه سریع با Vite و بسته‌بندی بهینه.

--

**فهرست مطالب**

- شروع سریع
- محیط و کلید API
- نحوه کار
- قابلیت‌ها
- ساختار پروژه
- سفارشی‌سازی
- مشارکت
- عیب‌یابی
- لایسنس و تقدیر

--

**شروع سریع**

نیازمندی‌ها: Node 18+، npm یا yarn

1. کلون کردن مخزن

```bash
git clone https://github.com/Besmillah-Azimi/weather-app.git
cd weather
```

2. نصب وابستگی‌ها

```bash
npm install
# یا: yarn
```

3. تنظیم کلید API

یک فایل `.env` در ریشه پروژه ایجاد کنید و کلید OpenWeatherMap را قرار دهید:

```
VITE_WEATHER_API_KEY=your_api_key_here
```

نکته: Vite متغیرهایی که با `VITE_` شروع می‌شوند را در `import.meta.env` در دسترس قرار می‌دهد. پس از ایجاد `.env`، سرور توسعه را دوباره راه‌اندازی کنید.

4. اجرای اپلیکیشن

```bash
npm run dev
```

ساخت و پیش‌نمایش برای تولید:

```bash
npm run build
npm run preview
```

--

**محیط و کلید API**

- این پروژه به‌صورت پیش‌فرض از OpenWeatherMap برای دریافت وضعیت فعلی، پیش‌بینی و ژئوکدینگ استفاده می‌کند.
- در حال حاضر، کلید API داخل فایل `src/hooks/UseWeather.jsx` وجود دارد. برای امنیت بهتر و همگامی با Vite پیشنهاد می‌کنیم این کلید را از متغیرهای محیطی بخوانید.
- تغییر پیشنهادی:

```js
// src/hooks/UseWeather.jsx
const API_KEY =
  import.meta.env.VITE_WEATHER_API_KEY || "<replace-with-your-key>";
```

پس از تغییر، سرور توسعه را مجدداً راه‌اندازی کنید.

فایل‌هایی که از API استفاده می‌کنند:

- [src/hooks/UseWeather.jsx](src/hooks/UseWeather.jsx)
- [src/components/Search.jsx](src/components/Search.jsx)
- [src/components/tabs/Overview.jsx](src/components/tabs/Overview.jsx)

--

**نحوه کار**

- ترجمه‌ها در `src/i18n.js` مقداردهی اولیه می‌شوند و فایل‌های JSON در `src/locales/` به‌صورت lazy بارگذاری می‌گردند.
- `LocationContext` از Geolocation مرورگر استفاده می‌کند و `Search.jsx` با API ژئوکدینگ پیشنهادهای تکمیل خودکار را ارائه می‌دهد.
- `WeatherProvider` وضعیت فعلی و پیش‌بینی را با استفاده از `API_KEY` دریافت می‌کند.
- درخواست‌ها با `axios` ارسال شده و واحد دما به‌صورت پیش‌فرض `metric` (سانتی‌گراد) است. برای تغییر واحدها، پارامتر `units` در URLهای درخواست را تغییر دهید.

--

**قابلیت‌ها**

- وضعیت فعلی: دما، رطوبت، باد، زمان طلوع و غروب، آیکون و کشور
- پیش‌بینی ساعتی: داده‌های سه‌ساعته از OWM
- پیش‌بینی هفت‌روزه: خلاصه روزانه
- آلودگی هوا: در صورت در دسترس بودن، از endpoint آلودگی هوا استفاده می‌شود
- رابط چندزبانه: مجموعه بزرگی از فایل‌های ترجمه در `src/locales`
- جستجو با پیشنهاد: ژئوکدینگ OpenWeatherMap برای پیشنهاد خودکار شهر
- دسترس‌پذیری: HTML معنایی و کنترل‌های قابل استفاده با کیبورد

--

**ساختار پروژه**

- `src/` — کد منبع
  - `src/hooks/` — React hooks و providerها (`UseWeather`, `UseLocation`, `UseLanguage` و ...)
  - `src/components/` — کامپوننت‌های رابط کاربری و نماهای موجود در `tabs/`
  - `src/locales/` — فایل‌های ترجمه
  - `src/i18n.js` — راه‌اندازی i18n و بارگذاری زبان‌ها
  - `src/lib/` — ابزارها و توابع کمکی
- `public/` — دارایی‌های ایستا و آیکن‌ها
- `package.json` — اسکریپت‌ها و وابستگی‌ها

--

**سفارشی‌سازی**

- برای تغییر واحد پیش‌فرض (سانتی‌گراد)، پارامتر `units=metric` را در درخواست‌های API در فایل‌هایی مانند `src/hooks/UseWeather.jsx` و `src/components/tabs/*` تغییر دهید.
- برای افزودن یا ویرایش ترجمه‌ها، فایل‌های JSON در `src/locales/` را به‌روزرسانی کنید.
- برای جلوگیری از قرار گرفتن کلید در سورس، `src/hooks/UseWeather.jsx` را تغییر دهید تا از `import.meta.env.VITE_WEATHER_API_KEY` استفاده کند.

--

**مشارکت**

- پروژه را فورک کنید و برای تغییرات، یک شاخه feature ایجاد کنید.
- کلیدهای ترجمه و رفتار UI را در تمام زبان‌ها یکپارچه نگه دارید.
- قبل از ارسال PR کد خود را با `npm run lint` بررسی کنید.

--

**عیب‌یابی**

- اگر در بارگذاری داده‌ها مشکل پیش آمد:
  - `.env` را بررسی کنید که `VITE_WEATHER_API_KEY` معتبر باشد.
  - اطمینان حاصل کنید API مورد نظر در حساب OpenWeatherMap فعال است.
- اگر ترجمه بارگذاری نشد، بررسی کنید `src/locales/<lang>.json` وجود داشته باشد و کلیدها با کد UI تطابق داشته باشند.

--

**لایسنس و قدردانی**

- در مخزن فایل `LICENSE` موجود نیست. اگر می‌خواهید پروژه را منتشر کنید، یکی از لایسنس‌های رایج مانند MIT را اضافه کنید.
- این پروژه از کتابخانه‌های متن‌باز مانند React، Vite، Tailwind CSS، i18next، axios و framer-motion استفاده می‌کند — لیست کامل وابستگی‌ها در `package.json` موجود است.

--

در صورت تمایل، می‌توانم `src/hooks/UseWeather.jsx` را به‌صورت خودکار برای خواندن متغیر محیطی (`import.meta.env.VITE_WEATHER_API_KEY`) اصلاح کنم و یک توضیح کوتاه در README اضافه کنم تا کلید مخفی نماند. تمایل دارید این تغییر را اعمال کنم؟

</div>
